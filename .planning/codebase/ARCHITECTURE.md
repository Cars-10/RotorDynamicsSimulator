# Architecture

## Overview
Client-side React application ("Hydrogen Cooled Generator Rotor Dynamics") visualizing rotor dynamics data generated by AI.

## Patterns
- **Component-Based:** Functional components with Hooks.
- **Service Layer:** API logic encapsulated in `services/`.
- **State Management:** Lifted state in `App.tsx` (Prop Drilling).
- **Mock Physics:** Physics calculations (mode shifts) happen locally in client logic (`App.tsx`).

## Data Flow
1.  **Generation:** User triggers `generateRotorData()` -> calls Gemini API -> returns `SimulationData` JSON.
2.  **State:** `App.tsx` stores `SimulationData`, `activeModeIndex`, `viewMode`.
3.  **Visualization:** Data passed to `RotorVisualizer`, `BearingAnalyst`, `AnalysisTable`.
4.  **Editing:** `ShaftEditor` modifies `shaftSegments` -> `handleUpdateSegmentWithPhysics` updates state & recalculates modes.

## Components
- **App:** Root controller, layout, state container.
- **RotorVisualizer:** Main graphical representation of the rotor.
- **BearingAnalyst:** Polar plots/orbit analysis for bearings.
- **Controls:** UI for playback, generation, and parameters.
- **ShaftEditor:** Form/UI to modify segment properties.
- **Tutorial/AnalysisTable:** Overlays for info.

## Key Modules
- `App.tsx`: Central hub.
- `services/geminiService.ts`: AI generation logic.
- `components/`: UI building blocks.
