---
phase: 01-foundation-and-refactor
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - vite.config.ts
  - src/test/setup.ts
  - src/App.test.tsx
autonomous: true
user_setup: []
---

<objective>
Initialize testing infrastructure using Vitest and React Testing Library to enable regression testing for subsequent refactoring.
</objective>

<execution_context>
@./.gemini/get-shit-done/workflows/execute-plan.md
@./.gemini/get-shit-done/templates/summary.md
@./.gemini/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/codebase/TESTING.md
@package.json
@vite.config.ts
</context>

<tasks>
  <task type="auto" name="install_test_deps">
    <file_path>package.json</file_path>
    <instruction>
      Install development dependencies:
      - vitest
      - jsdom
      - @testing-library/react
      - @testing-library/jest-dom
      - @testing-library/user-event
    </instruction>
  </task>

  <task type="auto" name="configure_vitest">
    <file_path>vite.config.ts</file_path>
    <instruction>
      Update vite.config.ts to include test configuration:
      - environment: 'jsdom'
      - globals: true
      - setupFiles: './src/test/setup.ts'
    </instruction>
  </task>

  <task type="auto" name="create_test_setup">
    <file_path>src/test/setup.ts</file_path>
    <instruction>
      Create setup file that imports '@testing-library/jest-dom'.
    </instruction>
  </task>

  <task type="auto" name="create_smoke_test">
    <file_path>src/App.test.tsx</file_path>
    <instruction>
      Create a basic smoke test for App.tsx:
      - Render App component
      - Assert that the main title "Hydrogen Cooled Generator Rotor Dynamics" is present.
      - Ensure 'describe', 'it', 'expect' are used (Vitest globals).
    </instruction>
  </task>

  <task type="checkpoint:human-verify" name="verify_tests">
    <instruction>
      Run `npm test` (or `npx vitest`) and confirm the smoke test passes.
    </instruction>
  </task>
</tasks>

<verification>
- `npm test` runs without error.
- App component renders in test environment.
</verification>

<success_criteria>
- package.json contains testing libraries.
- vite.config.ts has test configuration.
- src/App.test.tsx exists and passes.
</success_criteria>

<output>
- Updated package.json
- Updated vite.config.ts
- Created src/test/setup.ts
- Created src/App.test.tsx
</output>
