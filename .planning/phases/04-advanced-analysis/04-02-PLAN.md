# Plan: Campbell Diagram Implementation

## Objective
Implement a professional-grade Campbell Diagram using D3.js and React.

## Execution Context
- **Source**: `src/components/analysis/CampbellDiagram.tsx`, `src/components/analysis/AnalysisDashboard.tsx`
- **Goal**: Visualize the frequency-vs-speed relationship and identify critical speeds.

## Context
With the data infrastructure from 04-01 in place, we need to visualize it. A Campbell diagram is the standard tool. It must plot natural frequencies as continuous lines against rotor speed, overlay excitation lines (1X, 2X), and highlight intersection points (Critical Speeds).

## Tasks
- [ ] **Install D3**: Add `d3` and `@types/d3` to the project.
- [ ] **Create Component**: `src/components/analysis/CampbellDiagram.tsx`.
    - Use a `ref` to access the container.
    - Setup D3 scales (Linear X for RPM, Linear Y for Hz/CPM).
    - Draw axes with engineering notation.
- [ ] **Plot Modes**: Render lines for each mode.
    - Differentiate Forward/Backward whirl (e.g., Solid vs Dashed).
- [ ] **Plot Excitations**: Add diagonal lines for 1X (Synchronous) and 2X excitation.
- [ ] **Highlight Criticals**: Calculate and draw points where Mode Lines intersect Excitation Lines.
- [ ] **Tooltip**: Add hover interactions to show exact Frequency/RPM values.

## Verification
- **Manual**: Verify the plot renders correctly with the mock data from 04-01.
- **Visual**: Check that axes are labeled, lines are smooth, and intersection points align visually.

## Success Criteria
- [ ] Campbell Diagram renders inside the application.
- [ ] X-axis (RPM) and Y-axis (Frequency) are correctly scaled and labeled.
- [ ] Mode lines are distinct.
- [ ] Excitation lines (1X, 2X) are visible.
- [ ] Critical speed markers are placed at intersections.

## Output
- `src/components/analysis/CampbellDiagram.tsx`
- `src/components/analysis/AnalysisDashboard.tsx` (Container)
